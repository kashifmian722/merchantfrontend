{"version":3,"file":"register.js","sourceRoot":"","sources":["../../../../src/clr-core/common/utils/register.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,MAAM,MAAM,iBAAiB,CAAC;AACrC,OAAO,EAAE,aAAa,EAAE,cAAc,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC;AACpE,OAAO,EAAE,cAAc,EAAE,MAAM,UAAU,CAAC;AAE1C,MAAM,oBAAoB,GAAG,MAAM,CACjC,CAAC,EACD,CAAC,OAAe,EAAE,YAAiB,EAAE,QAA+C,EAAE,EAAE;IACtF,IAAI,aAAa,CAAC,OAAO,CAAC,EAAE;QAC1B,OAAO,CAAC,IAAI,CAAC,GAAG,OAAO,8BAA8B,CAAC,CAAC;KACxD;SAAM;QACL,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QACvC,cAAc,EAAE,CAAC;QACjB,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC1C;AACH,CAAC,CACF,CAAC;AAEF,MAAM,UAAU,qBAAqB,CAAC,OAAe,EAAE,YAAiB;IACtE,IAAI,SAAS,EAAE,IAAI,cAAc,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE;QACrD,oBAAoB,CAAC,OAAO,EAAE,YAAY,EAAE,MAAM,CAAC,cAAc,CAAC,CAAC;KACpE;AACH,CAAC","sourcesContent":["/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport curryN from 'ramda/es/curryN';\nimport { elementExists, existsInWindow, isBrowser } from './exists';\nimport { setupCDSGlobal } from './global';\n\nconst addElementToRegistry = curryN(\n  3,\n  (tagName: string, elementClass: any, registry: { define: (a: string, b: any) => {} }) => {\n    if (elementExists(tagName)) {\n      console.warn(`${tagName} has already been registered`);\n    } else {\n      registry.define(tagName, elementClass);\n      setupCDSGlobal();\n      window.CDS._loadedElements.push(tagName);\n    }\n  }\n);\n\nexport function registerElementSafely(tagName: string, elementClass: any) {\n  if (isBrowser() && existsInWindow(['customElements'])) {\n    addElementToRegistry(tagName, elementClass, window.customElements);\n  }\n}\n"]}